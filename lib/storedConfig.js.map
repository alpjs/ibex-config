{"version":3,"sources":["../src/storedConfig.js"],"names":[],"mappings":";;;;;QAegB;QAIA;QAIA;QAIA;QAIA;QAKA;;;;;;;;;;;;;;;;AAhChB,IAAM,MAAM,CAAC,MAAM;AACf,QAAM,SAAS,aAAa,OAAb,CAAqB,aAArB,CAAT,CADS;AAEf,QAAI,WAAW,IAAX,EAAiB;AACjB,eAAO,IAAI,GAAJ,EAAP,CADiB;KAArB;;AAIA,WAAO,oCAAU,MAAV,CAAP,CANe;CAAN,CAAD,EAAN;;AASN,IAAI,OAAJ,CAAY,SAAS,0BAAW,KAAX,CAAT,CAAZ;;AAEO,SAAS,UAAT,GAAsB;AACzB,WAAO,IAAI,GAAJ,CAAQ,SAAR,CAAP,CADyB;CAAtB;;AAIA,SAAS,GAAT,CAAa,GAAb,EAAkB;AACrB,WAAO,IAAI,GAAJ,CAAQ,GAAR,CAAP,CADqB;CAAlB;;AAIA,SAAS,GAAT,CAAa,GAAb,EAAkB;AACrB,WAAO,IAAI,GAAJ,CAAQ,GAAR,CAAP,CADqB;CAAlB;;AAIA,SAAS,IAAT,GAAgB;AACnB,iBAAa,OAAb,CAAqB,aAArB,EAAoC,6BAAU,GAAV,CAApC,EADmB;CAAhB;;AAIA,SAAS,GAAT,CAAa,GAAb,EAAkB,KAAlB,EAAyB;AAC5B,QAAI,GAAJ,CAAQ,GAAR,EAAa,KAAb,EAD4B;AAE5B,WAF4B;CAAzB;;AAKA,SAAS,KAAT,CAAe,OAAf,EAAwB;AAC3B,QAAI,KAAJ,GAD2B;AAE3B,QAAI,GAAJ,CAAQ,SAAR,EAAmB,OAAnB,EAF2B;AAG3B,WAH2B;CAAxB","file":"storedConfig.js","sourcesContent":["import parseJSON from 'parse-json-object-as-map';\nimport stringify from 'stringify-json';\nimport deepFreeze from './deepFreeze';\n\nconst map = (() => {\n    const config = localStorage.getItem('ibex-config');\n    if (config === null) {\n        return new Map();\n    }\n\n    return parseJSON(config);\n})();\n\nmap.forEach(value => deepFreeze(value));\n\nexport function getVersion() {\n    return map.get('version');\n}\n\nexport function has(key) {\n    return map.has(key);\n}\n\nexport function get(key) {\n    return map.get(key);\n}\n\nexport function save() {\n    localStorage.setItem('ibex-config', stringify(map));\n}\n\nexport function set(key, value) {\n    map.set(key, value);\n    save();\n}\n\nexport function clear(version) {\n    map.clear();\n    map.set('version', version);\n    save();\n}\n"]}